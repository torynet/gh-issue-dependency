---
name: Implement output formatting for TTY, plain text, and JSON modes
status: open
created: 2025-09-06T21:20:36Z
updated: 2025-09-06T21:30:58Z
github: https://github.com/torynet/gh-issue-dependency/issues/12
depends_on: [11]
parallel: false
conflicts_with: []
---

# Task: Implement output formatting for TTY, plain text, and JSON modes

## Description
Create comprehensive output formatting that supports TTY mode with emoji indicators and colors, plain text for scripting, and JSON output with field selection. Follow gh-sub-issue visual patterns for consistency and usability.

## Acceptance Criteria
- [ ] TTY mode with emoji indicators (ðŸ”µ open, âœ… closed) and colored output
- [ ] Sectioned display with "BLOCKED BY" and "BLOCKS" headers and counts
- [ ] Plain text mode for non-TTY environments (scripts, logs)
- [ ] JSON output with selectable fields via --json flag
- [ ] Empty state handling with helpful messages when no dependencies exist
- [ ] Consistent formatting across all output modes
- [ ] Repository context display for cross-repository dependencies

## Technical Details
- **Implementation approach**: Follow gh-sub-issue output patterns with automatic TTY detection
- **Key considerations**: Color handling, JSON field selection, empty states
- **Code locations**: pkg/output.go (or similar), integration with cmd/list.go

Output format examples:
```text
# TTY Mode
Dependencies for: #123 - Feature: User Authentication System

BLOCKED BY (2 issues)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ðŸ”µ #45   Database migration setup     [open]   @alice
âœ… #67   Security review completed    [closed] @security-team

BLOCKS (3 issues)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ðŸ”µ #124  Frontend login component    [open]   @bob
ðŸ”µ #125  API documentation update    [open]   @docs
âœ… #126  Integration tests           [closed] @qa
```

JSON output example:
```json
{
  "blocked_by": [
    {
      "number": 45,
      "title": "Database migration setup",
      "state": "open",
      "assignees": ["alice"]
    }
  ],
  "blocks": [
    {
      "number": 124,
      "title": "Frontend login component", 
      "state": "open",
      "assignees": ["bob"]
    }
  ]
}
```

Key functions to implement:
```go
func formatTTYOutput(data *DependencyData) string
func formatPlainOutput(data *DependencyData) string  
func formatJSONOutput(data *DependencyData, fields []string) (string, error)
func isTerminal() bool
```

## Dependencies
- [ ] Task 002 completed (API integration provides data)
- [ ] Understanding of gh-sub-issue output patterns
- [ ] TTY detection capabilities

## Effort Estimate
- Size: M
- Hours: 2-3 hours
- Parallel: false (requires API data structure)

## Definition of Done
- [ ] TTY output matches gh-sub-issue visual patterns with emojis and colors
- [ ] Plain text output is clean and script-friendly
- [ ] JSON output supports field selection: --json number,title,state
- [ ] Empty states show helpful "No dependencies found" messages
- [ ] Cross-repository dependencies show repository context
- [ ] Output formatting is consistent and visually appealing
- [ ] All modes handle edge cases gracefully
